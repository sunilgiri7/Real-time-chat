<head>

</head>
<body>
    <script>
        const ws = new WebSocket("ws://localhost:8080", "echo-protocol")
        ws.onopen = function(){
            ws.send(JSON.stringify({
                type: "JOIN_ROOM",
                payload:{
                    name: "Sunil",
                    userId: "1",
                    roomId: "2",
                }
            }));
        }

        ws.onmessage = function(payload){
            try{
                alert(payload)
            }catch(e){
                console.error(e)
            }
        }

        function sendChat(){
            ws.send(JSON.stringify({
                type: "SEND_MESSAGE",
                payload:{
                    message: "Hi there!",
                    userId: "1",
                    roomId: "2",
                }
            }));
        }
    </script>
    Hello World
    <br/>
    <input type="text" id="inputtext"></input>
    <br/>
    <button onclick="sendChat()">Send chat</button>
</body>